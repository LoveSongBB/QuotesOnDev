!function(e){let o="";e(window).on("popstate",function(){window.location.replace(o)}),e("#new-quote-button").on("click",function(t){t.preventDefault(),o=document.URL,console.log("click"),e.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(o){e(".entry-content").html(o[0].content.rendered),e(".entry-title").html(o[0].title.rendered),o[0]._qod_quote_source_url&&o[0]._qod_quote_source&&e(".entry-title").append(`<a target='_blank' class='entry-title'\n                        href=${o[0]._qod_quote_source_url}\n                        >, ${o[0]._qod_quote_source}</a>`);const t=qod_vars.home_url+"/"+o[0].slug+"/";history.pushState(null,null,t),console.log(t)})}),e("#submit").on("click",function(o){o.preventDefault();const t={title:e("#quote-author").val(),content:e("#quote-content").val(),source:e("#quote-source").val(),source_url:e("#quote-source-url").val(),status:"waiting for approval"};e.ajax({type:"POST",url:qod_vars.rest_url+"wp/v2/posts",dataType:"json",data:t,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.nonce)},success:function(){e("#quote-submission-form").slideUp(1250),e(".quote-submission-container").append("<p>"+qod_vars.success+"</p>")},error:function(){e("#quote-submission-form").slideUp(1250),e(".quote-submission-container").append("<p>"+qod_vars.failure+"</p>")}})})}(jQuery);